import PropTypes from 'prop-types';
import React, { Component, PureComponent } from 'react';
import ReactNative, { Alert, FlatList, Text, View } from 'react-native';

import { Svg, Polygon, Path, Rect } from 'react-native-svg';

import { ThemeManager } from '@postillon/react-native-theme';

import Articles from './../../../../../realm/db/articles';

import { debounce } from './../../../../../utils/util';
import { Config } from './../../../../../constants';

import { SmallArticleCard } from './../../../../../components/card';

import ModalArchiveRemove from '../../../../modals/archive/remove';
import ModalStateContainer from '../../../../../components/modalstatecontainer';


export class OfflineArchiveView extends PureComponent {

    static propTypes = {
        navigator: PropTypes.object.isRequired,
    };

    modalArchiveRemove = null;

    constructor(props, context) {
        super(props, context);

        // debounce navigation functions
        this.handleArticlePress = debounce(this.handleArticlePress, Config.debounce.navigation, this);

        this.state = {
            articles: Articles.ArchivatedArticles.snapshot(),
        };
    }

    componentWillMount() {
        Articles.ArchivatedArticles.addListener(this.handleArchiveCollectionUpdate);
    }

    componentWillUnmount() {
        Articles.ArchivatedArticles.removeListener(this.handleArchiveCollectionUpdate);
    }

    handleArchiveCollectionUpdate = (articles, changes) => {
        this.setState({
            lastupdate: new Date(),
            articles: Articles.ArchivatedArticles.snapshot(),
        });
    };

    handleArticlePress = (article) => {
        const { navigator, t, theme } = this.props;
        const { article: style } = ThemeManager.getStyleSheetForComponent('screens', theme);

        navigator.push({
            screen: 'postillon.Article',
            navigatorStyle: style,
            passProps: {
                articleId: article.id,
            },
        });
    };

    handleDeletePress = (article) => {
        this.modalArchiveRemove.open({
            id: article.id,
        });
    };

    renderItem = ({item}) => (
        <SmallArticleCard key={item.id} article={item} showArchiveButton={true} onPress={this.handleArticlePress} onDeletePress={this.handleDeletePress} />
    );

    keyExtractor = (items, index) => items.id || index;

    renderEmptyListComponent = () => {
        const { styles, constants, t } = this.props;

        return (
            <View style={styles.emptyListContainer}>
                <Svg style={styles.svg} width={'50%'} height={'50%'} viewBox={'0 0 132 241'} preserveAspectRatio={'xMidYMid meet'}>
                    <Path fill={constants.colors.text.secondary} d={'M123.27,127.13l-5.47-5.9a.55.55,0,0,0-.38-.16H102.8c-1,0-1.85,1.49-2.23,2.3l-2.17-.07,0,0-1.54-1.54a.53.53,0,0,0-.36-.15H95.31a4.11,4.11,0,0,0-1.21-3.21c-.71-14.09-.82-23.8-.29-24.74A20.13,20.13,0,0,1,95.12,92c.52-.62,1.11-1.35,1.72-2.15A14.85,14.85,0,0,0,99,93.05a1.42,1.42,0,0,0,.91.52.52.52,0,0,0,.21,0c.48-.14.57-.65.71-1.34a8,8,0,0,1,.56-2c1-2.21-.59-6.89-.66-7.09a.47.47,0,0,0-.12-.19,7.66,7.66,0,0,0,.23-1.76v-.71c0-4.66,0-9.49-2.33-11.83s-6.41-7.13-6.68-7.89c-.45-1.27-3.27-5.4-20.5-5.4h0c-4.46.22-11.94.34-13.06-.26a22.75,22.75,0,0,0-11.42-1.6c-3.72.58-15.56-10.94-15.94-12.31,0-1.23.56-4.69.57-4.73a.52.52,0,0,0-.83-.48l-2.24,1.82V37a.52.52,0,0,0-.91-.33l-2.1,2.44c1-20.13,12-26.78,16.87-28.74.51-.2,1-.38,1.54-.55a23.89,23.89,0,0,1,7.1,3.74.52.52,0,0,0,.71-.74,31.71,31.71,0,0,0-4-3.85c6-.78,12.06,1,15.84,4.88a.51.51,0,0,0,.68.05.51.51,0,0,0,.13-.67C59.45,5.25,51,2.29,41.4,5.15a19.24,19.24,0,0,0-17.06.92C14.53,11.4,6.63,25.66,10.71,42l-.3.33a.65.65,0,0,0-.11.22,35.29,35.29,0,0,0-1,6.65C9.27,50.53,7.38,54,6,56.55s-1.8,3.36-1.8,3.85a7.84,7.84,0,0,1-.09.86C3.9,63,3.49,66.22,5.56,67a3.43,3.43,0,0,0,2,.37,2.5,2.5,0,0,0,1,.79,2.56,2.56,0,0,0,2.07,0,3.72,3.72,0,0,1,2.27.13c1.24.31,2.64.67,4-.7a27.75,27.75,0,0,0,2.06-2.39c1.2-1.49,2.56-3.18,3.57-3.36,1.31-.24,3.73,2.58,6.09,9.41,1.25,3.61,2.43,5.52,3.6,5.84C31.7,78.81,31,83,33.26,86.58c4.47,7.07,6.93,11.83,7.3,14.16.06.36.13.74.2,1.14.58,3.22,1.37,7.64-.76,15.51-.09.33-.17.66-.25,1a4.94,4.94,0,0,0-1.47,3.21h-.16l-9.82-.51a.5.5,0,0,0-.48.27l-1,1.78h-3l-.76-1.65v37.64l2.47,2.46H96a.52.52,0,0,1,0,1H25.31a.48.48,0,0,1-.36-.15l-2.77-2.77a.48.48,0,0,1-.15-.36V121.07H13a.51.51,0,0,0-.42.22l-1,1.45a.52.52,0,0,0-.09.29V234.92a.59.59,0,0,0,.05.23l1.29,2.57a.5.5,0,0,0,.46.28H121.44a.55.55,0,0,0,.34-.13l1.36-1.19a.53.53,0,0,0,.18-.39l.08-108.81A.56.56,0,0,0,123.27,127.13ZM18.61,27.47c.81-7.81,3.82-13.52,8.91-16.54a16.44,16.44,0,0,1,6-2.11A37.21,37.21,0,0,0,18.61,27.47Zm62.7,71.89a1.13,1.13,0,0,1,1-.11,3.91,3.91,0,0,1,2.6,2c.63,1.71,3.11,12,3.11,14.5,0,.76,0,1.68.14,2.72a7.32,7.32,0,0,0-1,3.07H84.75a3.91,3.91,0,0,0-.9-2.81.5.5,0,0,0,0-.32c-.9-2.29-2-4.73-2.89-6.6C79.57,108.89,80.59,100.14,81.31,99.36Zm-26,19.41c.51-1.76,1.14-3.68,1.76-5.53,1.32-4,2.58-7.82,2.78-10.52a17.3,17.3,0,0,0,2.15.16c2.28.1,5.73.25,6.83,1.68a21.65,21.65,0,0,1,1.94,3.28,21.37,21.37,0,0,0,3.74,5.56,12.57,12.57,0,0,1,3,5.39l0,0a4,4,0,0,0-.85,2.74H56.4a1.21,1.21,0,0,0,.13-.43,3.23,3.23,0,0,0-1.19-2.36S55.35,118.78,55.35,118.77Zm-9.84-.24a48.34,48.34,0,0,0,3.89-16.91h1.28c.19,1.55.7,6.85-.56,10.36a18.32,18.32,0,0,0-.66,4.66c0,.7-.08,1.36-.15,1.93,0,0,0,.07,0,.11a3.61,3.61,0,0,0-1.16,2.9h-2A4.86,4.86,0,0,0,45.51,118.53Zm50.24,42.28-55.08-.14-2.06-1.6V122.61H96.27L97.65,124h0v34.88Zm16.88,69.07a.51.51,0,1,1-1,0V173.25l-3.55-3.55H25.4l-3.46,3.47v55.51a.51.51,0,1,1-1,0V173a.51.51,0,0,1,.15-.36l3.76-3.76a.49.49,0,0,1,.36-.15h83.08a.51.51,0,0,1,.37.15l3.84,3.85a.48.48,0,0,1,.15.36Z'} />

                    <Rect fill={constants.colors.text.secondary} x={72.37} y={127.14} width={16.16} height={31.97} rx={0.51} ry={0.51} />

                    <Path fill={constants.colors.text.secondary} d={'M43.66,156.69c.85-.69,1.16-1.09,1.16-1.58s-.32-.91-1-.91-1.11.28-1.15.86a.33.33,0,0,0,.31.19c.15,0,.28-.09.35-.4l.08-.38.2,0c.36,0,.6.26.6.69a2.06,2.06,0,0,1-.77,1.38l-.75.75v.41h2.29v-.54h-1.8Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M46,156.9a.43.43,0,0,0-.43.43.43.43,0,0,0,.86,0A.43.43,0,0,0,46,156.9Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M48.14,154.2c-.62,0-1.19.5-1.19,1.78s.57,1.78,1.19,1.78,1.18-.5,1.18-1.78S48.75,154.2,48.14,154.2Zm0,3.3c-.3,0-.54-.3-.54-1.52s.24-1.53.54-1.53.54.31.54,1.53S48.43,157.5,48.14,157.5Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M50.91,154.2c-.61,0-1.18.5-1.18,1.78s.57,1.78,1.18,1.78,1.19-.5,1.19-1.78S51.52,154.2,50.91,154.2Zm0,3.3c-.29,0-.54-.3-.54-1.52s.25-1.53.54-1.53.55.31.55,1.53S51.2,157.5,50.91,157.5Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M53.69,154.2c-.62,0-1.19.5-1.19,1.78s.57,1.78,1.19,1.78,1.19-.5,1.19-1.78S54.3,154.2,53.69,154.2Zm0,3.3c-.3,0-.54-.3-.54-1.52s.24-1.53.54-1.53.54.31.54,1.53S54,157.5,53.69,157.5Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M55.87,156.9a.42.42,0,0,0-.42.43.43.43,0,0,0,.42.43.43.43,0,0,0,.43-.43A.42.42,0,0,0,55.87,156.9Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M58.07,154.2c-.62,0-1.19.5-1.19,1.78s.57,1.78,1.19,1.78,1.18-.5,1.18-1.78S58.68,154.2,58.07,154.2Zm0,3.3c-.3,0-.55-.3-.55-1.52s.25-1.53.55-1.53.54.31.54,1.53S58.35,157.5,58.07,157.5Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M60.84,154.2c-.61,0-1.18.5-1.18,1.78s.57,1.78,1.18,1.78S62,157.26,62,156,61.45,154.2,60.84,154.2Zm0,3.3c-.29,0-.54-.3-.54-1.52s.25-1.53.54-1.53.54.31.54,1.53S61.13,157.5,60.84,157.5Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M63.62,154.2c-.62,0-1.19.5-1.19,1.78s.57,1.78,1.19,1.78,1.18-.5,1.18-1.78S64.23,154.2,63.62,154.2Zm0,3.3c-.3,0-.55-.3-.55-1.52s.25-1.53.55-1.53.54.31.54,1.53S63.91,157.5,63.62,157.5Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M67.11,155.81c.68-.11.93-.44.93-.82s-.38-.85-1.2-.85H65.21v.25l.44.05c0,.45,0,.91,0,1.37V156c0,.46,0,.91,0,1.36l-.44.05v.25H66.7c1.17,0,1.54-.51,1.54-1S67.9,155.9,67.11,155.81Zm-.75-1.39h.29c.48,0,.72.18.72.62s-.25.67-.8.67h-.22C66.35,155.27,66.36,154.84,66.36,154.42Zm.26,3h-.26c0-.46,0-.92,0-1.43h.24c.64,0,.93.24.93.73S67.21,157.4,66.62,157.4Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M42.85,130.5h.48v-.25l-.49-.05c0-.38,0-.74,0-1.08h.22c1.12,0,1.52-.5,1.52-1.1S44.13,127,43.12,127H41.68v.25l.45.05c0,.45,0,.9,0,1.35v.23c0,.46,0,.91,0,1.36l-.45.05v.25h1.17Zm0-1.89c0-.46,0-.92,0-1.38h.23c.55,0,.83.28.83.78a.75.75,0,0,1-.81.84h-.26Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M46.58,130.59a1.87,1.87,0,1,0-1.66-1.86A1.7,1.7,0,0,0,46.58,130.59Zm0-3.44c.64,0,.91.74.91,1.58s-.27,1.57-.91,1.57-.91-.73-.91-1.57S45.94,127.15,46.58,127.15Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M51.08,129.54c0-.52-.27-.82-1-1.11l-.23-.1c-.35-.14-.54-.31-.54-.62a.57.57,0,0,1,.64-.55.86.86,0,0,1,.39.09l.11.62h.41l0-.72a1.56,1.56,0,0,0-.94-.28c-.74,0-1.26.38-1.26,1s.37.88,1,1.13l.21.09c.39.16.57.3.57.62s-.27.58-.72.58a1.2,1.2,0,0,1-.54-.13l-.1-.63h-.41l0,.77a2.24,2.24,0,0,0,1.1.28C50.58,130.59,51.08,130.17,51.08,129.54Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M51.78,127.24h.7c0,.46,0,.92,0,1.37v.23c0,.46,0,.91,0,1.36l-.5.05v.25H53.7v-.25l-.5-.05c0-.45,0-.91,0-1.36v-.23c0-.46,0-.92,0-1.37h.7l.11.69h.37l0-1h-3l0,1h.37Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M55.86,130.5h.45v-.25l-.45-.05c0-.45,0-.91,0-1.36v-.23c0-.46,0-.91,0-1.35l.45-.05V127H54.7v.25l.44.05c0,.45,0,.9,0,1.35v.23c0,.46,0,.91,0,1.36l-.44.05v.25h1.16Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M57.52,130.5h1.91l0-1h-.37l-.16.74H57.88c0-.45,0-.89,0-1.27v-.33c0-.45,0-.9,0-1.35l.47-.05V127H56.72v.25l.44.05c0,.45,0,.9,0,1.35v.29c0,.41,0,.85,0,1.3l-.45.05v.25h.8Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M60.59,130.5H62.5l0-1h-.37l-.15.74H61c0-.45,0-.89,0-1.27v-.33c0-.45,0-.9,0-1.35l.47-.05V127H59.79v.25l.45.05c0,.45,0,.9,0,1.35v.29c0,.41,0,.85,0,1.3l-.45.05v.25h.8Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M64.52,130.59a1.87,1.87,0,1,0-1.66-1.86A1.7,1.7,0,0,0,64.52,130.59Zm0-3.44c.64,0,.91.74.91,1.58s-.27,1.57-.91,1.57-.91-.73-.91-1.57S63.88,127.15,64.52,127.15Z'} />

                    <Polygon fill={constants.colors.text.secondary} points={'69.25 126.96 68.67 126.96 68.67 127.21 69.25 127.28 69.25 129.37 67.5 126.96 66.49 126.96 66.49 127.21 66.86 127.25 66.93 127.34 66.93 130.18 66.47 130.25 66.47 130.5 66.93 130.5 67.23 130.5 67.82 130.5 67.82 130.25 67.23 130.18 67.23 127.76 69.25 130.52 69.56 130.52 69.56 129.79 69.56 127.28 70.01 127.21 70.01 126.96 69.56 126.96 69.25 126.96'} />

                    <Path fill={constants.colors.text.secondary} d={'M41.78,137.59a.18.18,0,0,1,.09,0l.12,0,.23.08.2,0a.77.77,0,0,0,.54-.2.62.62,0,0,0,.21-.47.58.58,0,0,0-.13-.38,1.62,1.62,0,0,0-.52-.36l-.34-.18A.53.53,0,0,1,42,136a.2.2,0,0,1,0-.13.23.23,0,0,1,.1-.2.36.36,0,0,1,.26-.09.53.53,0,0,1,.39.17.73.73,0,0,1,.23.43H43l0-.72H43a.31.31,0,0,1,0,.12.09.09,0,0,1-.07,0l-.15-.05a1.32,1.32,0,0,0-.19-.08l-.2,0a.65.65,0,0,0-.48.18.58.58,0,0,0-.19.44.51.51,0,0,0,.07.28.55.55,0,0,0,.2.23,1.76,1.76,0,0,0,.42.25l.3.17a.5.5,0,0,1,.12.14.28.28,0,0,1,0,.15.3.3,0,0,1-.1.23.44.44,0,0,1-.29.09.61.61,0,0,1-.43-.18.93.93,0,0,1-.28-.53h-.06v.82h.06A.24.24,0,0,1,41.78,137.59Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M44.72,136.61a.71.71,0,0,0,.36-.2.56.56,0,0,0,.13-.37.53.53,0,0,0-.2-.41,1,1,0,0,0-.67-.17h-1v.06a.46.46,0,0,1,.2,0,.14.14,0,0,1,.08.07.82.82,0,0,1,0,.22v1.41a.82.82,0,0,1,0,.22.2.2,0,0,1-.08.08.43.43,0,0,1-.2,0v.06h1.1v-.06a.46.46,0,0,1-.2,0,.19.19,0,0,1-.08-.07,1,1,0,0,1,0-.23v-.6A2.25,2.25,0,0,0,44.72,136.61Zm-.53-1h.07a.39.39,0,0,1,.31.12.49.49,0,0,1,.11.35.53.53,0,0,1-.11.36.38.38,0,0,1-.3.12h-.08Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M45.67,137.46s0,.07-.07.08a.33.33,0,0,1-.15,0h-.07v.06h1.88l.1-.7H47.3a.75.75,0,0,1-.27.43.73.73,0,0,1-.49.14h-.13a.24.24,0,0,1-.13,0,.13.13,0,0,1-.06-.07,1,1,0,0,1,0-.22v-.61a.47.47,0,0,1,.23,0,.34.34,0,0,1,.15.16.82.82,0,0,1,.08.31h.06V136h-.06a.85.85,0,0,1-.12.38.33.33,0,0,1-.3.13h0v-.89h.22a1.24,1.24,0,0,1,.34,0,.49.49,0,0,1,.24.15.86.86,0,0,1,.13.34h.06v-.64H45.38v.06h.07a.29.29,0,0,1,.17,0l.06.09v1.61A.82.82,0,0,1,45.67,137.46Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M48.42,135.63a.17.17,0,0,1,.06-.08.35.35,0,0,1,.16,0h.07v-.06H47.57v.06h.07a.33.33,0,0,1,.15,0,.16.16,0,0,1,.07.07.78.78,0,0,1,0,.21v1.43a.64.64,0,0,1,0,.2s0,.07-.07.08a.27.27,0,0,1-.15,0h-.07v.06h1.14v-.06h-.07a.22.22,0,0,1-.15,0,.12.12,0,0,1-.07-.07.78.78,0,0,1,0-.21v-1.43A.64.64,0,0,1,48.42,135.63Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M49.84,135.67a.64.64,0,0,1,.38-.12.69.69,0,0,1,.43.16.78.78,0,0,1,.26.45H51v-.75h-.07a.21.21,0,0,1,0,.12.18.18,0,0,1-.09,0l-.19-.06a1.26,1.26,0,0,0-.49-.1,1.19,1.19,0,0,0-.58.15,1.1,1.1,0,0,0-.44.44,1.12,1.12,0,0,0-.17.59,1.08,1.08,0,0,0,.15.55,1,1,0,0,0,.42.41,1.35,1.35,0,0,0,.62.13,1.11,1.11,0,0,0,.46-.08,1.2,1.2,0,0,0,.38-.28v-.19a1.36,1.36,0,0,1-.36.31.79.79,0,0,1-.38.09.63.63,0,0,1-.4-.12.61.61,0,0,1-.23-.36,1.78,1.78,0,0,1-.08-.53,1.53,1.53,0,0,1,.1-.54A.69.69,0,0,1,49.84,135.67Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M52.36,137.58h-.07a.2.2,0,0,1-.14,0,.12.12,0,0,1-.07-.07.5.5,0,0,1,0-.21v-.67h.77v.67a.64.64,0,0,1,0,.2s0,.07-.07.08a.33.33,0,0,1-.15,0h-.07v.06h1.13v-.06h-.07a.2.2,0,0,1-.14,0,.12.12,0,0,1-.07-.07.5.5,0,0,1,0-.21v-1.43c0-.11,0-.18,0-.2a.12.12,0,0,1,.06-.08.33.33,0,0,1,.15,0h.07v-.06H52.52v.06h.07a.33.33,0,0,1,.15,0,.16.16,0,0,1,.07.07.78.78,0,0,1,0,.21v.62h-.77v-.62a.82.82,0,0,1,0-.2.19.19,0,0,1,.07-.08.33.33,0,0,1,.15,0h.07v-.06H51.23v.06h.07a.26.26,0,0,1,.14,0,.19.19,0,0,1,.08.07,1,1,0,0,1,0,.21v1.43a.82.82,0,0,1,0,.2s0,.07-.07.08a.33.33,0,0,1-.15,0h-.07v.06h1.13Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M55.76,136.94H55.7a.74.74,0,0,1-.26.43.77.77,0,0,1-.49.14h-.13a.26.26,0,0,1-.14,0,.12.12,0,0,1,0-.07.76.76,0,0,1,0-.22v-.61a.55.55,0,0,1,.24,0,.38.38,0,0,1,.14.16.82.82,0,0,1,.08.31h.06V136h-.06a.66.66,0,0,1-.12.38.33.33,0,0,1-.3.13h0v-.89h.22a1.24,1.24,0,0,1,.34,0,.49.49,0,0,1,.24.15.73.73,0,0,1,.13.34h.06v-.64H53.78v.06h.07a.29.29,0,0,1,.17,0,.15.15,0,0,1,.06.09s0,.08,0,.18v1.43a.64.64,0,0,1,0,.2s0,.07-.07.08a.27.27,0,0,1-.15,0h-.07v.06h1.88Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M56.92,136.64l.71,1h.68v-.06a.34.34,0,0,1-.15-.06.83.83,0,0,1-.15-.18l-.52-.73a1,1,0,0,0,.31-.15.54.54,0,0,0,.17-.4.61.61,0,0,0-.11-.35.69.69,0,0,0-.3-.2,2.62,2.62,0,0,0-.58,0H56v.06a.43.43,0,0,1,.2,0,.14.14,0,0,1,.08.07.82.82,0,0,1,0,.22v1.41a.82.82,0,0,1,0,.22.2.2,0,0,1-.08.08.43.43,0,0,1-.2,0v.06h1.11v-.06a.46.46,0,0,1-.2,0,.19.19,0,0,1-.08-.07,1,1,0,0,1,0-.23v-.61Zm-.14-1.06H57a.57.57,0,0,1,.38.11.51.51,0,0,1,.11.37.55.55,0,0,1-.06.28.35.35,0,0,1-.17.15,1,1,0,0,1-.34,0h-.09Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M60.24,137.68h0v-1.81a.61.61,0,0,1,0-.22.22.22,0,0,1,.07-.09.54.54,0,0,1,.19,0v-.06h-.72v.06a.33.33,0,0,1,.26.09.41.41,0,0,1,.05.26v.94l-1.07-1.35h-.77v.06a.33.33,0,0,1,.15,0,.3.3,0,0,1,.12.11l0,.06v1.54a.33.33,0,0,1-.07.24.39.39,0,0,1-.25.08v.06h.77v-.06h-.05a.35.35,0,0,1-.2-.07c-.06,0-.08-.13-.08-.25v-1.39Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M42.68,141.52h-.07a.33.33,0,0,1-.15,0,.23.23,0,0,1-.07-.07.78.78,0,0,1,0-.21v-1.43a.78.78,0,0,1,0-.21.14.14,0,0,1,.06-.07.25.25,0,0,1,.16,0h.07v-.06H41.54v.06h.07a.33.33,0,0,1,.15,0s.06,0,.07.08a.67.67,0,0,1,0,.21v1.43a.69.69,0,0,1,0,.2.28.28,0,0,1-.06.08.35.35,0,0,1-.16,0h-.07v.06h1.14Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M43.69,141.52a.63.63,0,0,1-.43-.18.93.93,0,0,1-.28-.53h-.06v.82H43a.27.27,0,0,1,.08-.1.16.16,0,0,1,.09,0l.12,0a1.28,1.28,0,0,0,.23.08l.2,0a.72.72,0,0,0,.54-.2.6.6,0,0,0,.21-.46.59.59,0,0,0-.13-.39,1.48,1.48,0,0,0-.52-.35,2.38,2.38,0,0,1-.34-.19.53.53,0,0,1-.15-.15.2.2,0,0,1,0-.13.26.26,0,0,1,.1-.2.36.36,0,0,1,.26-.09.57.57,0,0,1,.39.17.75.75,0,0,1,.23.44h.07l0-.73h0a.39.39,0,0,1,0,.13l-.07,0a.32.32,0,0,1-.15-.05l-.19-.07a.64.64,0,0,0-.2,0,.62.62,0,0,0-.48.19.58.58,0,0,0-.19.44.55.55,0,0,0,.07.28.7.7,0,0,0,.2.23,2.17,2.17,0,0,0,.42.25,1.75,1.75,0,0,1,.3.17A.71.71,0,0,1,44,141a.28.28,0,0,1,0,.15.29.29,0,0,1-.1.23A.39.39,0,0,1,43.69,141.52Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M44.7,140h.06a.68.68,0,0,1,.18-.37.45.45,0,0,1,.32-.09h.16v1.68a.69.69,0,0,1,0,.2.19.19,0,0,1-.07.08.33.33,0,0,1-.15,0h-.07v.06h1.14v-.06h-.08a.26.26,0,0,1-.14,0,.15.15,0,0,1-.07-.07.5.5,0,0,1,0-.21v-1.68h.16a.51.51,0,0,1,.21,0,.39.39,0,0,1,.17.14.9.9,0,0,1,.12.29h.06v-.59h-2Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M49.81,141a.5.5,0,0,1,0-.15.19.19,0,0,1,.07-.08.34.34,0,0,1,.17,0v-.06H49v.06h.06a.25.25,0,0,1,.13,0l.08.06a.72.72,0,0,1,0,.17v.45a.48.48,0,0,1-.17.05l-.16,0a.71.71,0,0,1-.39-.11.65.65,0,0,1-.24-.35,1.84,1.84,0,0,1-.07-.55,1.68,1.68,0,0,1,.07-.5.7.7,0,0,1,.23-.38.56.56,0,0,1,.4-.14.74.74,0,0,1,.47.16,1,1,0,0,1,.33.48h.06v-.77h-.06a.37.37,0,0,1-.07.13.16.16,0,0,1-.09,0l-.19-.06-.22-.07a1.39,1.39,0,0,0-.3,0,1.21,1.21,0,0,0-.86.34,1.13,1.13,0,0,0-.35.83,1,1,0,0,0,.36.81,1.28,1.28,0,0,0,.36.22,1.52,1.52,0,0,0,.51.08,1.78,1.78,0,0,0,.47,0,1.73,1.73,0,0,0,.44-.14Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M51.82,141.32a.84.84,0,0,1-.49.14H51.2a.26.26,0,0,1-.14,0s0,0-.05-.06a.82.82,0,0,1,0-.22v-.62a.54.54,0,0,1,.24.05.32.32,0,0,1,.14.16.77.77,0,0,1,.08.3h.06V139.9h-.06a.63.63,0,0,1-.12.38.33.33,0,0,1-.3.13h0v-.88h.22a1.24,1.24,0,0,1,.34,0,.49.49,0,0,1,.24.15.73.73,0,0,1,.13.34H52v-.65H50.16v.06h.07a.29.29,0,0,1,.17,0,.16.16,0,0,1,.06.08s0,.09,0,.19v1.43a.69.69,0,0,1,0,.2.28.28,0,0,1-.06.08.35.35,0,0,1-.16,0h-.07v.06H52l.1-.69h-.06A.81.81,0,0,1,51.82,141.32Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M53.49,141.52h-.07a.33.33,0,0,1-.15,0,.23.23,0,0,1-.07-.07.78.78,0,0,1,0-.21v-1.43a.78.78,0,0,1,0-.21.16.16,0,0,1,.07-.07.24.24,0,0,1,.15,0h.07v-.06H52.35v.06h.08a.26.26,0,0,1,.14,0,.17.17,0,0,1,.07.08.67.67,0,0,1,0,.21v1.43a.69.69,0,0,1,0,.2.12.12,0,0,1-.06.08.33.33,0,0,1-.15,0h-.08v.06h1.14Z'} />
                    <Path fill={constants.colors.text.secondary} d={'M53.92,141.41a.19.19,0,0,1-.07.08.33.33,0,0,1-.15,0h-.07v.06h1.93l.08-.76h-.06a1.59,1.59,0,0,1-.16.38.63.63,0,0,1-.2.2.65.65,0,0,1-.29.06h-.18a.69.69,0,0,1-.2,0,.11.11,0,0,1-.07-.06.59.59,0,0,1,0-.22v-1.38a.5.5,0,0,1,0-.21.11.11,0,0,1,.06-.07.24.24,0,0,1,.15,0h.1v-.06H53.63v.06h.07a.33.33,0,0,1,.15,0s.06,0,.07.08a.88.88,0,0,1,0,.21v1.43A.87.87,0,0,1,53.92,141.41Z'} />
                </Svg>

                <Text style={styles.heading}>{t('emptyHeader')}</Text>
                <Text style={styles.text}>{t('emptySubtext')}</Text>
            </View>
        );
    };

    renderFooterComponent = () => {
        const { styles } = this.props;

        return ( <View style={styles.spacer} /> );
    };

    render() {
        const { styles } = this.props;
        const { articles } = this.state;

        if (articles.length > 0) {
            return (
                <View style={styles.container}>
                    <FlatList
                        style={styles.container}
                        key={'archiveOfflineList'}
                        data={articles}

                        renderItem={this.renderItem}
                        keyExtractor={this.keyExtractor}

                        maxToRenderPerBatch={7}
                        removeClippedSubviews={true}

                        ListEmptyComponent={this.renderEmptyListComponent}
                        ListFooterComponent={this.renderFooterComponent}
                    />

                    <ModalStateContainer ref={modal => (this.modalArchiveRemove = modal)} modal={<ModalArchiveRemove />} />
                </View>
            );
        } else {
            return this.renderEmptyListComponent();
        }
    }

}

export default OfflineArchiveView;